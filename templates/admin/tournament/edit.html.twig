{% extends 'base_back.html.twig' %}

{% block title %}Modifier le Tournoi - ARENA Admin{% endblock %}

{% block body %}
<div class="admin-header">
    <h1 class="h3 mb-1">Modifier : {{ tournament.name }}</h1>
    <p class="text-muted small mb-0">Mettez à jour les informations de la compétition.</p>
</div>

<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="admin-card">
            {{ form_start(form, {'attr': {'class': 'form-admin', 'novalidate': 'novalidate'}}) }}
                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">Nom du Tournoi</label>
                        {{ form_widget(form.name) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.name) }}</div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">Jeu</label>
                        {{ form_widget(form.game) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.game) }}</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">Date de Début</label>
                        {{ form_widget(form.startDate, {'attr': {'class': 'd-flex gap-1'}}) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.startDate) }}</div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">Date de Fin</label>
                        {{ form_widget(form.endDate, {'attr': {'class': 'd-flex gap-1'}}) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.endDate) }}</div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">Phase Actuelle</label>
                        {{ form_widget(form.phase) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.phase) }}</div>
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label text-muted small text-uppercase fw-bold">ID Organisateur</label>
                        {{ form_widget(form.organizerId) }}
                        <div class="text-danger small mt-1">{{ form_errors(form.organizerId) }}</div>
                    </div>
                </div>

                <div class="mt-4 d-flex justify-content-between align-items-center">
                    <div class="d-flex gap-2">
                        <button type="submit" class="btn-admin btn-admin-primary">
                            <i class="fas fa-save me-2"></i> Enregistrer
                        </button>
                        <a href="{{ path('app_back_matchy_index') }}" class="btn-admin btn-admin-secondary">
                            Annuler
                        </a>
                    </div>
                    
                    <a href="{{ path('app_admin_reward_index', {tournamentId: tournament.id}) }}" class="btn-admin btn-admin-secondary">
                        <i class="fas fa-trophy me-1"></i> Gérer les Récompenses
                    </a>
                </div>
            {{ form_end(form) }}
        </div>
    </div>
</div>
{% endblock %}
